<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <meta name="theme-color" content="#667eea" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="apple-mobile-web-app-title" content="AI Avatar Assistant" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="description" content="Colorful AI Avatar Assistant created by Susanto Ganguly (Sir Ganguly) with voice interaction and multiple subject teachers" />
  <meta name="keywords" content="AI, avatar, voice assistant, mobile, education, Sir Ganguly, Susanto Ganguly" />
  <meta name="author" content="Susanto Ganguly" />
  
  <!-- PWA Icons -->
  <link rel="icon" type="image/png" sizes="32x32" href="assets/avatars/computer-teacher.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="assets/avatars/computer-teacher.png" />
  <link rel="apple-touch-icon" href="assets/avatars/computer-teacher.png" />
  
  <!-- Preload critical resources -->
  <link rel="preload" href="style.css" as="style" />
  <link rel="preload" href="main.js" as="script" />
  
  <!-- Google Fonts for better typography -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <title>AI Avatar Assistant - Created by Sir Ganguly</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
      <div class="loading-spinner"></div>
      <p>Loading AI Avatar Assistant...</p>
      <p class="creator-credit">Created by Susanto Ganguly (Sir Ganguly)</p>
    </div>

    <!-- Speech Synthesis Error Modal -->
    <div class="speech-error-modal" id="speechErrorModal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h3>🎤 Voice Feature Setup</h3>
          <button class="modal-close" id="closeSpeechModal">&times;</button>
        </div>
        <div class="modal-body">
          <p>For the best experience with voice interaction, please use a modern browser like Chrome, Firefox, or Safari.</p>
          <div class="browser-buttons">
            <button class="browser-btn chrome-btn" id="openChromeBtn">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <circle cx="12" cy="12" r="10" fill="#4285F4"/>
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="white"/>
              </svg>
              Open Chrome
            </button>
            <button class="browser-btn firefox-btn" id="openFirefoxBtn">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="#FF7139"/>
              </svg>
              Open Firefox
            </button>
            <button class="browser-btn safari-btn" id="openSafariBtn">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="#006CFF"/>
              </svg>
              Open Safari
            </button>
          </div>
          <p class="modal-note">Click any browser button above to open this website in that browser for better voice experience.</p>
        </div>
      </div>
    </div>

    <!-- Avatar Selection Screen -->
    <main class="avatar-selection" id="avatarSelection">
      <header class="selection-header">
        <h1>🎭 Choose Your AI Avatar</h1>
        <p class="subtitle">Select an avatar to start your conversation</p>
        <p class="creator-info">Designed by <strong>Susanto Ganguly</strong> (Sir Ganguly)</p>
      </header>
      
      <section class="avatar-grid" role="grid" aria-label="Avatar selection grid">
        <article class="avatar-card" data-avatar="computer-teacher" role="gridcell" tabindex="0">
          <div class="avatar-image-container">
            <img src="assets/avatars/computer-teacher.png" alt="Computer Teacher" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
            <div class="avatar-fallback" style="display: none;">💻</div>
          </div>
          <div class="avatar-info">
            <h3>Computer Teacher</h3>
            <p>Programming & Technology</p>
          </div>
        </article>
        
        <article class="avatar-card" data-avatar="english-teacher" role="gridcell" tabindex="0">
          <div class="avatar-image-container">
            <img src="assets/avatars/english-teacher.png" alt="English Teacher" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
            <div class="avatar-fallback" style="display: none;">📚</div>
          </div>
          <div class="avatar-info">
            <h3>English Teacher</h3>
            <p>Language & Literature</p>
          </div>
        </article>
        
        <article class="avatar-card" data-avatar="biology-teacher" role="gridcell" tabindex="0">
          <div class="avatar-image-container">
            <img src="assets/avatars/biology-teacher.png" alt="Biology Teacher" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
            <div class="avatar-fallback" style="display: none;">🧬</div>
          </div>
          <div class="avatar-info">
            <h3>Biology Teacher</h3>
            <p>Life Sciences</p>
          </div>
        </article>
        
        <article class="avatar-card" data-avatar="physics-teacher" role="gridcell" tabindex="0">
          <div class="avatar-image-container">
            <img src="assets/avatars/physics-teacher.png" alt="Physics Teacher" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
            <div class="avatar-fallback" style="display: none;">⚡</div>
          </div>
          <div class="avatar-info">
            <h3>Physics Teacher</h3>
            <p>Physical Sciences</p>
          </div>
        </article>
        
        <article class="avatar-card" data-avatar="chemistry-teacher" role="gridcell" tabindex="0">
          <div class="avatar-image-container">
            <img src="assets/avatars/chemistry-teacher.png" alt="Chemistry Teacher" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
            <div class="avatar-fallback" style="display: none;">🧪</div>
          </div>
          <div class="avatar-info">
            <h3>Chemistry Teacher</h3>
            <p>Chemical Sciences</p>
          </div>
        </article>
        
        <article class="avatar-card" data-avatar="history-teacher" role="gridcell" tabindex="0">
          <div class="avatar-image-container">
            <img src="assets/avatars/history-teacher.png" alt="History Teacher" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
            <div class="avatar-fallback" style="display: none;">📜</div>
          </div>
          <div class="avatar-info">
            <h3>History Teacher</h3>
            <p>History & Culture</p>
          </div>
        </article>
        
        <article class="avatar-card" data-avatar="geography-teacher" role="gridcell" tabindex="0">
          <div class="avatar-image-container">
            <img src="assets/avatars/geography-teacher.png" alt="Geography Teacher" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
            <div class="avatar-fallback" style="display: none;">🌍</div>
          </div>
          <div class="avatar-info">
            <h3>Geography Teacher</h3>
            <p>Earth & Environment</p>
          </div>
        </article>
        
        <article class="avatar-card" data-avatar="hindi-teacher" role="gridcell" tabindex="0">
          <div class="avatar-image-container">
            <img src="assets/avatars/hindi-teacher.png" alt="Hindi Teacher" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
            <div class="avatar-fallback" style="display: none;">🇮🇳</div>
          </div>
          <div class="avatar-info">
            <h3>Hindi Teacher</h3>
            <p>Hindi Language</p>
          </div>
        </article>
        
        <article class="avatar-card" data-avatar="mathematics-teacher" role="gridcell" tabindex="0">
          <div class="avatar-image-container">
            <img src="assets/avatars/mathematics-teacher.png" alt="Mathematics Teacher" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
            <div class="avatar-fallback" style="display: none;">📐</div>
          </div>
          <div class="avatar-info">
            <h3>Mathematics Teacher</h3>
            <p>Math & Logic</p>
          </div>
        </article>
        
        <article class="avatar-card" data-avatar="doctor" role="gridcell" tabindex="0">
          <div class="avatar-image-container">
            <img src="assets/avatars/doctor.png" alt="Doctor" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
            <div class="avatar-fallback" style="display: none;">👨‍⚕️</div>
          </div>
          <div class="avatar-info">
            <h3>Doctor</h3>
            <p>Health & Medicine</p>
          </div>
        </article>
        
        <article class="avatar-card" data-avatar="engineer" role="gridcell" tabindex="0">
          <div class="avatar-image-container">
            <img src="assets/avatars/engineer.png" alt="Engineer" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
            <div class="avatar-fallback" style="display: none;">⚙️</div>
          </div>
          <div class="avatar-info">
            <h3>Engineer</h3>
            <p>Engineering & Design</p>
          </div>
        </article>
        
        <article class="avatar-card" data-avatar="lawyer" role="gridcell" tabindex="0">
          <div class="avatar-image-container">
            <img src="assets/avatars/lawyer.png" alt="Lawyer" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
            <div class="avatar-fallback" style="display: none;">⚖️</div>
          </div>
          <div class="avatar-info">
            <h3>Lawyer</h3>
            <p>Legal & Law</p>
          </div>
        </article>
      </section>
    </main>

    <!-- Avatar Chat Interface -->
    <main class="avatar-chat" id="avatarChat" style="display: none;">
      <!-- Top Navigation Bar -->
      <header class="chat-header">
        <button class="back-btn" id="backBtn" aria-label="Go back to avatar selection">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 12H5M12 19l-7-7 7-7"/>
          </svg>
          Back
        </button>
        
        <div class="avatar-info-header">
          <h2 id="avatarName">AI Avatar</h2>
          <p id="avatarDomain">Subject Domain</p>
        </div>
        
        <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
          <svg class="sun-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="5"/>
            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
          </svg>
          <svg class="moon-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
          </svg>
        </button>
      </header>
      
      <!-- Main Chat Container -->
      <section class="chat-container">
        <!-- Selected Avatar Display -->
        <div class="selected-avatar-display">
          <div class="avatar-image-wrapper">
            <img id="selectedAvatarImage" src="" alt="Selected Avatar" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
            <div class="avatar-fallback" id="selectedAvatarFallback" style="display: none;">🎭</div>
          </div>
        </div>
        
        <!-- Input/Output Voice Window -->
        <div class="voice-window" id="voiceWindow">
          <div class="voice-content" id="voiceContent">
            <p class="voice-placeholder">Click "Talk" to start your conversation...</p>
          </div>
        </div>
        
        <!-- Q/A Summary Window (shows when response > 10 words) -->
        <div class="qa-summary" id="qaSummary" style="display: none;">
          <div class="summary-header">
            <h3>Q/A Summary</h3>
          </div>
          <div class="summary-content">
            <div class="question-section">
              <h4>Your Question</h4>
              <div class="question-text" id="summaryQuestion"></div>
              <button class="copy-btn" id="copyQuestionBtn" aria-label="Copy question">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                  <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                </svg>
                Copy Question
              </button>
            </div>
            <div class="answer-section">
              <h4>Avatar's Answer</h4>
              <div class="answer-text" id="summaryAnswer"></div>
              <button class="copy-btn" id="copyAnswerBtn" aria-label="Copy answer">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                  <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                </svg>
                Copy Answer
              </button>
            </div>
          </div>
        </div>
        
        <!-- Voice Control Buttons -->
        <div class="voice-controls" role="group" aria-label="Voice controls">
          <button id="startBtn" class="control-btn start-btn" aria-label="Resume voice reading">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polygon points="5 3 19 12 5 21 5 3"/>
            </svg>
            Start
          </button>
          <button id="stopBtn" class="control-btn stop-btn" aria-label="Stop voice immediately">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="6" y="6" width="12" height="12"/>
            </svg>
            Stop
          </button>
          <button id="talkBtn" class="control-btn talk-btn" aria-label="Start voice recognition">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
              <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
              <line x1="12" y1="19" x2="12" y2="23"/>
              <line x1="8" y1="23" x2="16" y2="23"/>
            </svg>
            Talk
          </button>
        </div>
        
        <!-- Status Indicator -->
        <div id="status" class="status-indicator" role="status" aria-live="polite"></div>
      </section>
      
      <!-- Bottom Right Back Button -->
      <button class="bottom-back-btn" id="bottomBackBtn" aria-label="Go back to avatar selection">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
        Back
      </button>
    </main>
  </div>

  <script src="main.js"></script>
</body>
</html> 